<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>Tymon Tobolski</title><link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Bitter:400,700,400italic|Open+Sans:300italic,400italic,700italic,400,300,700" media="screen" rel="stylesheet" type="text/css" /><link href="../../assets/stylesheets/all-f5ec2720.css" media="screen" rel="stylesheet" type="text/css" /><script src="../../assets/javascripts/all-eca7008a.js" type="text/javascript"></script></head><body class="page page_2 page_2_index"><div class="navbar navbar-default"><div class="navbar-collapse collapse navbar-responsive-collapse"><div class="container"><ul class="nav navbar-nav"><li><a class="navbar-brand" href="/">Blog</a></li><li><a class="navbar-brand" href="/about.html">About</a></li><li><a class="navbar-brand" href="/projects.html">Projects</a></li><li><a class="navbar-brand" href="/talks.html">Talks</a></li></ul></div></div></div><div class="container"><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1><a href="/2011/scala-combine-several-partial-functions-into-one">Scala: Combine several Partial Functions into one</a></h1></div><div class="col-md-2 post-date"><time datetime="2011-01-22">Jan 22, 2011</time></div></div></div><div class="lead"><pre class="highlight scala"><span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">PartialFunction</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span> <span class="k">case</span> <span class="s">"a"</span> <span class="k">=&gt;</span> <span class="mi">1</span> <span class="o">}</span>
<span class="k">val</span> <span class="n">b</span><span class="k">:</span> <span class="kt">PartialFunction</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span> <span class="k">case</span> <span class="s">"b"</span> <span class="k">=&gt;</span> <span class="mi">2</span> <span class="o">}</span>
<span class="k">val</span> <span class="n">c</span><span class="k">:</span> <span class="kt">PartialFunction</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span> <span class="k">case</span> <span class="s">"c"</span> <span class="k">=&gt;</span> <span class="mi">3</span> <span class="o">}</span>

<span class="k">val</span> <span class="n">ab</span> <span class="k">=</span> <span class="n">a</span> <span class="n">orElse</span> <span class="n">b</span> <span class="c1">// combine functions a and b
</span>
<span class="n">ab</span><span class="o">(</span><span class="s">"a"</span><span class="o">)</span> <span class="c1">// 1
</span><span class="n">ab</span><span class="o">(</span><span class="s">"b"</span><span class="o">)</span> <span class="c1">// 2
</span><span class="n">ab</span></pre></div><a class="btn btn-default" href="/2011/scala-combine-several-partial-functions-into-one">Read more</a></article><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1><a href="/2011/good-old-c-style-for-loop-in-scala">Good old C-style for loop in scala</a></h1></div><div class="col-md-2 post-date"><time datetime="2011-01-21">Jan 21, 2011</time></div></div></div><div class="lead"><pre class="highlight scala"><span class="k">def</span> <span class="n">cfor</span><span class="o">(</span><span class="n">s</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">p</span><span class="k">:</span> <span class="o">(</span><span class="kt">Int</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="nc">Boolean</span><span class="o">,</span> <span class="n">k</span><span class="k">:</span> <span class="o">(</span><span class="kt">Int</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="nc">Int</span><span class="o">)(</span><span class="n">f</span><span class="k">:</span> <span class="o">(</span><span class="kt">Int</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="nc">Unit</span><span class="o">){</span>
    <span class="k">if</span><span class="o">(</span><span class="n">p</span><span class="o">(</span><span class="n">s</span><span class="o">)){</span>
        <span class="n">f</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
        <span class="n">cfor</span><span class="o">(</span><span class="n">k</span><span class="o">(</span><span class="n">s</span><span class="o">),</span> <span class="n">p</span><span class="o">,</span> <span class="n">k</span><span class="o">)(</span><span class="n">f</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">cfor</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">5</span><span class="o">&gt;,</span> <span class="mi">1</span><span class="o">+){</span> <span class="n">i</span> <span class="k">=&gt;</span>
    <span class="n">println</span><span class="o">(</span><span class="n">i</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// 0
// 1
// 2
// 3
// 4
</span></pre></div><a class="btn btn-default" href="/2011/good-old-c-style-for-loop-in-scala">Read more</a></article><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1><a href="/2011/scala-collections-collect">Scala collections #collect</a></h1></div><div class="col-md-2 post-date"><time datetime="2011-01-14">Jan 14, 2011</time></div></div></div><div class="lead"><pre class="highlight scala"><span class="n">scala</span><span class="o">&gt;</span> <span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="n">filter</span><span class="o">(</span><span class="mi">2</span><span class="o">&lt;).</span><span class="n">map</span><span class="o">(</span><span class="mi">2</span><span class="o">*)</span>
<span class="n">res1</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">10</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">).</span><span class="n">collect</span> <span class="o">{</span> <span class="k">case</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">=&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">}</span>
<span class="n">res2</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="mi">8</span><span class="o">,</span> <span class="mi">10</span><span class="o">)</span>
</pre></div><a class="btn btn-default" href="/2011/scala-collections-collect">Read more</a></article><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1><a href="/2010/scala-remote-actors">Scala remote actors</a></h1></div><div class="col-md-2 post-date"><time datetime="2010-10-07">Oct  7, 2010</time></div></div></div><div class="lead"><h3>Server</h3>
<pre class="highlight scala"><span class="k">import</span> <span class="nn">scala.actors.Actor</span>
<span class="k">import</span> <span class="nn">scala.actors.Actor._</span>
<span class="k">import</span> <span class="nn">scala.actors.remote.RemoteActor</span>
<span class="k">import</span> <span class="nn">scala.actors.remote.RemoteActor._</span>

<span class="k">object</span> <span class="nc">Server</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">main</span><span class="o">(</span><span class="n">args</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">port</span> <span class="k">=</span> <span class="n">args</span></pre></div><a class="btn btn-default" href="/2010/scala-remote-actors">Read more</a></article><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1><a href="/2010/scala-string-replace">Scala String replace</a></h1></div><div class="col-md-2 post-date"><time datetime="2010-10-02">Oct  2, 2010</time></div></div></div><div class="lead"><pre class="highlight scala"><span class="k">implicit</span> <span class="k">def</span> <span class="n">repl4str</span><span class="o">(</span><span class="n">s</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Object</span> <span class="o">{</span>
    <span class="k">def</span> <span class="o">%(</span><span class="n">pairs</span><span class="k">:</span> <span class="o">(</span><span class="kt">String</span><span class="o">,</span> <span class="kt">String</span><span class="o">)*)</span> <span class="k">=</span> <span class="o">(</span><span class="n">s</span> <span class="o">/:</span> <span class="n">pairs</span><span class="o">){</span>
      <span class="k">case</span> <span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="o">(</span><span class="n">k</span><span class="o">,</span> <span class="n">v</span><span class="o">))</span> <span class="k">=&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="o">(</span><span class="s">"%{"</span> <span class="o">+</span> <span class="n">k</span> <span class="o">+</span> <span class="s">"}"</span><span class="o">,</span> <span class="n">v</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="s">"foo %{bar} and %{baz}"</span> <span class="o">%</span> <span class="o">(</span><span class="s">"bar"</span> <span class="o">-&gt;</span> <span class="s">"xxx"</span><span class="o">,</span> <span class="s">"baz"</span> <span class="o">-&gt;</span> <span class="s">"blah"</span><span class="o">)</span>
<span class="c1">// =&gt; "foo xxx and blah...</span></pre></div><a class="btn btn-default" href="/2010/scala-string-replace">Read more</a></article><ul class="pager"><li class="next"><a href="/page/3/">Older →</a></li><li class="previous"><a href="/">← Newer</a></li></ul></div><footer><div class="container"><div class="page-header"></div><div class="row"><div class="col-md-12"><ul class="list-unstyled"><li class="pull-right"><a href="#top">Back to top ↑</a></li><li><a href="/">Blog</a></li><li><a href="/about.html">About</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/talks.html">Talks</a></li><li>|</li><li><a href="http://github.com/teamon">GitHub</a></li><li><a href="http://twitter.com/iteamon">Twitter</a></li><li><a href="http://monterail.com">Monterail</a></li><li><a href="http://codetunes.com">Codetunes</a></li></ul></div></div><div class="row"><div class="col-md-12"><p>Copyright 2007-2014 &mdash; Tymon Tobolski <br />Based on <a href="http://bootswatch.com/lumen/">Lumen Bootswatch</a>. Web fonts from <a href="http://www.google.com/webfonts">Google</a>. </p></div></div></div></footer></body></html>