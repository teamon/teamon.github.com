<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>Scala swing auto-resizable TabbedPane</title><link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Bitter:400,700,400italic|Open+Sans:300italic,400italic,700italic,400,300,700" media="screen" rel="stylesheet" type="text/css" /><link href="../assets/stylesheets/all-f5ec2720.css" media="screen" rel="stylesheet" type="text/css" /><script src="../assets/javascripts/all-eca7008a.js" type="text/javascript"></script></head><body class="x2010 x2010_scala-swing-auto-resizable-tabbedpane"><div class="navbar navbar-default"><div class="navbar-collapse collapse navbar-responsive-collapse"><div class="container"><ul class="nav navbar-nav"><li><a class="navbar-brand" href="/">Blog</a></li><li><a class="navbar-brand" href="/about.html">About</a></li><li><a class="navbar-brand" href="/projects.html">Projects</a></li><li><a class="navbar-brand" href="/talks.html">Talks</a></li></ul></div></div></div><div class="container"><article class="post"><div class="page-header"><div class="row"><div class="col-md-10"><h1>Scala swing auto-resizable TabbedPane</h1></div><div class="col-md-2 post-date"><time datetime="2010-03-25">Mar 25, 2010</time></div></div></div><div class="alert alert-info">This article was originally
<a href="http://tumblr.teamon.eu/post/472511779/scala-swing-auto-resizable-tabbedpane">published at Tumblr</a>.</div><div class="lead"><pre class="highlight scala"><span class="k">import</span> <span class="nn">scala.swing._</span>
<span class="k">import</span> <span class="nn">scala.swing.event.SelectionChanged</span>

<span class="k">object</span> <span class="nc">Test</span> <span class="k">extends</span> <span class="nc">SimpleSwingApplication</span> <span class="o">{</span>

  <span class="k">lazy</span> <span class="k">val</span> <span class="n">tabbedPane</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">TabbedPane</span> <span class="o">{</span>
    <span class="n">pages</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">TabbedPane</span><span class="o">.</span><span class="nc">Page</span><span class="o">(</span><span class="s">"One"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoxPanel</span><span class="o">(</span><span class="nc">Orientation</span><span class="o">.</span><span class="nc">Vertical</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Button</span> <span class="o">{</span> <span class="n">text</span> <span class="k">=</span> <span class="s">"Button 1"</span> <span class="o">}</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Button</span> <span class="o">{</span> <span class="n">text</span> <span class="k">=</span> <span class="s">"Button 2"</span> <span class="o">}</span>
    <span class="o">})</span>
    <span class="n">pages</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">TabbedPane</span><span class="o">.</span><span class="nc">Page</span><span class="o">(</span><span class="s">"Two"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoxPanel</span><span class="o">(</span><span class="nc">Orientation</span><span class="o">.</span><span class="nc">Horizontal</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Button</span> <span class="o">{</span> <span class="n">text</span> <span class="k">=</span> <span class="s">"Button 1"</span> <span class="o">}</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Button</span> <span class="o">{</span> <span class="n">text</span> <span class="k">=</span> <span class="s">"Button 2"</span> <span class="o">}</span>
    <span class="o">})</span>
    <span class="n">pages</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">TabbedPane</span><span class="o">.</span><span class="nc">Page</span><span class="o">(</span><span class="s">"Three"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoxPanel</span><span class="o">(</span><span class="nc">Orientation</span><span class="o">.</span><span class="nc">Vertical</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Slider</span> <span class="o">{</span> <span class="n">orientation</span> <span class="k">=</span> <span class="nc">Orientation</span><span class="o">.</span><span class="nc">Vertical</span> <span class="o">}</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Slider</span> <span class="o">{</span> <span class="n">orientation</span> <span class="k">=</span> <span class="nc">Orientation</span><span class="o">.</span><span class="nc">Vertical</span> <span class="o">}</span>
      <span class="n">contents</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">TextArea</span>
    <span class="o">})</span>

    <span class="k">val</span> <span class="n">originalPreferredSize</span> <span class="k">=</span> <span class="n">preferredSize</span>
    <span class="k">lazy</span> <span class="k">val</span> <span class="n">maxPreferredWidth</span>  <span class="k">=</span> <span class="n">pages</span><span class="o">.</span><span class="n">map</span> <span class="o">{</span> <span class="k">_</span><span class="o">.</span><span class="n">self</span><span class="o">.</span><span class="n">preferredSize</span><span class="o">.</span><span class="n">width</span>  <span class="o">}.</span><span class="n">max</span>
    <span class="k">lazy</span> <span class="k">val</span> <span class="n">maxPreferredHeight</span> <span class="k">=</span> <span class="n">pages</span><span class="o">.</span><span class="n">map</span> <span class="o">{</span> <span class="k">_</span><span class="o">.</span><span class="n">self</span><span class="o">.</span><span class="n">preferredSize</span><span class="o">.</span><span class="n">height</span> <span class="o">}.</span><span class="n">max</span>

    <span class="k">def</span> <span class="n">updatePreferredSize</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">size</span> <span class="k">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">self</span><span class="o">.</span><span class="n">preferredSize</span>
      <span class="n">preferredSize</span> <span class="k">=</span> <span class="o">(</span>
        <span class="n">originalPreferredSize</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="o">(</span><span class="n">maxPreferredWidth</span> <span class="o">-</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="o">),</span>
        <span class="n">originalPreferredSize</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="o">(</span><span class="n">maxPreferredHeight</span> <span class="o">-</span> <span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="o">)</span>
      <span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="n">top</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">MainFrame</span> <span class="o">{</span>
    <span class="n">title</span> <span class="k">=</span> <span class="s">"Test"</span>

    <span class="n">contents</span> <span class="k">=</span> <span class="n">tabbedPane</span>

    <span class="n">listenTo</span><span class="o">(</span><span class="n">tabbedPane</span><span class="o">.</span><span class="n">selection</span><span class="o">)</span>

    <span class="n">reactions</span> <span class="o">+=</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">SelectionChanged</span><span class="o">(</span><span class="n">`tabbedPane`</span><span class="o">)</span> <span class="k">=&gt;</span>
        <span class="n">tabbedPane</span><span class="o">.</span><span class="n">updatePreferredSize</span>
        <span class="n">pack</span>
      <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></article><div class="page-header"><h2>Comments</h2></div><div class="alert alert-info">Please comment at the <a href="http://tumblr.teamon.eu/post/472511779/scala-swing-auto-resizable-tabbedpane">original post</a>.</div><ul class="pager"><li class="next"><a href="/2010/lift-form-fields-attributes">Older post →</a></li><li class="previous"><a href="/2010/ssh-tunels-with-ichat-and-colloquy">← Newer post</a></li></ul></div><footer><div class="container"><div class="page-header"></div><div class="row"><div class="col-md-12"><ul class="list-unstyled"><li class="pull-right"><a href="#top">Back to top ↑</a></li><li><a href="/">Blog</a></li><li><a href="/about.html">About</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/talks.html">Talks</a></li><li>|</li><li><a href="http://github.com/teamon">GitHub</a></li><li><a href="http://twitter.com/iteamon">Twitter</a></li><li><a href="http://monterail.com">Monterail</a></li><li><a href="http://codetunes.com">Codetunes</a></li></ul></div></div><div class="row"><div class="col-md-12"><p>Copyright 2007-2014 &mdash; Tymon Tobolski <br />Based on <a href="http://bootswatch.com/lumen/">Lumen Bootswatch</a>. Web fonts from <a href="http://www.google.com/webfonts">Google</a>. </p></div></div></div></footer></body></html>